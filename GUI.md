# Руководство пользователя
## Приложение для идентификации нефтяных разливов на спутниковых снимках

### Общее описание
Приложение предназначено для анализа спутниковых снимков с целью обнаружения нефтяных разливов. Программа состоит из двух основных частей: подготовки обучающих данных для нейронной сети и автоматического поиска загрязнений на новых снимках.

---

## Вкладка 1: "Обработка снимков"

### Начало работы

#### 1. Выбор папки с изображениями
- `Кнопка "Выбрать папку"` - откроет диалог выбора папки со спутниковыми снимками
- `Файловое дерево` - после выбора папки здесь отобразится список всех файлов
- `Клик по файлу` - загрузит выбранное изображение в область просмотра

#### 2. Просмотр изображений
- `Колесо мыши` - масштабирование (приближение/удаление)
- `Левая кнопка мыши` - перемещение по изображению (панорамирование)
- Изображение автоматически масштабируется для лучшего отображения

### Преобразование изображений

#### Конвертация форматов
- `"GeoTiff в Tiff"` - преобразует геопространственные данные в обычный TIFF формат
- `"Поиск границ"` - выделяет контуры объектов на изображении с помощью специальных фильтров
- `"Создание синтетических изображений"` - вычисляет специальные индексы для выделения нефтяных пятен

#### Синтетические индексы
Программа поддерживает три типа специализированных индексов:
- `NDOI` - использует зеленый и ближний инфракрасный каналы
- `G-SWIR` - комбинирует зеленый и коротковолновый инфракрасный каналы  
- `CaBGS` - использует четыре спектральных канала

### Разметка областей нефтяных разливов

#### Режимы рисования
- `"Рисование по точкам"` - создание полигонов кликами мыши (каждый клик ЛКМ добавляет точку контура) Для закрепления контура нажмите ПКМ
- `"Свободное рисование"` - обведение областей движением мыши с зажатой кнопкой ЛКМ
- `Включить/вычключить рисование` - При нажатии на кнопку вы больше не сможете перемещаться по изображению, но сможете рисовать.

#### Управление контурами
- `"Очистить все"` - удаляет все нарисованные контуры
- `"Удалить последний (Ctrl+Z)"` - удаляет последний созданный контур
- `Визуальная обратная связь` - размеченные области отображаются полупрозрачным цветом

#### Сохранение результатов
- `"Сохранить маску"` - экспортирует нарисованные области в виде бинарного изображения (черно-белая маска)
- Маски сохраняются в том же формате, что и исходное изображение

### Подготовка обучающей выборки

#### Разбиение изображений
- `"Подготовить выборку"` - автоматически делит большие снимки на фрагменты размером 1024×1024 пикселя, параллельно создавая варианты изображений с поворотом на 30°, 60°, 90°. Обрабатывает как исходные изображения, так и соответствующие им маски. Это позволяет увеличить объём обучающей выборки.

#### Очистка и конвертация
- `"Очистить данные"` - автоматически удаляет пустые или некорректные изображения
- `"Конвертировать в PNG"` - преобразует все изображения в PNG формат для работы с нейронными сетями

---

## Вкладка 2: "Поиск нефти нейросетью"

### Автоматическое обнаружение

#### Загрузка изображений
- `"Выбрать изображения"` - загрузка снимков для анализа (предварительно необходимо перевести в PNG)

#### Применение нейронной сети
- `"Запустить анализ"` - применяет обученную модель для поиска нефтяных пятен
- Автоматически обрабатывает загруженные изображения. найденные области отображаются поверх исходного изображения

#### Визуализация результатов
- `Наложение результатов` - 
- `Настройки отображения` - можно изменить прозрачность и цвет выделения
- `Сохранение результатов` - экспорт найденных областей в виде файлов

---

## Поддерживаемые форматы файлов

### Входные форматы
- `GeoTIFF` - геопространственные данные со спутников (основной формат)
- `TIFF` - обычные изображения высокого разрешения
- `PNG` - для финальной обработки

### Особенности работы с многоканальными изображениями
- Спутниковые снимки содержат несколько спектральных каналов
- Можно выбирать конкретные каналы для анализа
- Поддерживается работа с 16-битными изображениями

---

## Практические советы

### Для качественной разметки
1. `Масштабируйте изображение` для точного выделения границ нефтяных пятен
2. `Используйте режим по точкам` для создания точных контуров сложной формы
3. `Применяйте свободное рисование` для быстрого выделения больших областей
4. `Регулярно сохраняйте маски` во время работы

### Для подготовки данных
1. `Сначала создайте все маски` для всех изображений
2. `Затем разбейте изображения` на фрагменты
3. `Примените аугментацию` для увеличения объема данных
4. `Очистите данные` перед финальной конвертацией

### Для анализа результатов
1. `Проверяйте результаты` нейронной сети на знакомых снимках
2. `Сравнивайте с ручной разметкой` для оценки точности
3. `Используйте разные синтетические индексы` для улучшения обнаружения

---

## Решение проблем

### Проблемы с загрузкой изображений
- Проверьте, что файлы не повреждены
- Убедитесь, что формат файла поддерживается
- Для больших файлов может потребоваться дополнительное время

### Проблемы с разметкой
- Если контуры не отображаются, проверьте активность режима рисования
- Используйте `"Очистить все"` при необходимости начать заново

Приложение оптимизировано для работы с большими объемами данных и обеспечивает эффективную обработку спутниковых снимков для решения экологических задач.